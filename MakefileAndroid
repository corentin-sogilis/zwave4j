ZWAVE4J_NATIVE_LIBSDIR=build/libs/jniLibs
ZWAVE4J_NDK_OBJDIR = build/obj
OPENZWAVE_DIR := ../open-zwave

.PHONY: all openzwave clean

all: openzwave

openzwave: $(OPENZWAVE_DIR)/cpp/src/vers.cpp
	ndk-build -j8 NDK_LIBS_OUT=$(ZWAVE4J_NATIVE_LIBSDIR) NDK_OUT=$(ZWAVE4J_NDK_OBJDIR)

$(OPENZWAVE_DIR)/cpp/src/vers.cpp:
	cd $(OPENZWAVE_DIR) && make cpp/src/vers.cpp

clean:
	rm -rf build
